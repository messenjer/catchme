define(["require","zepto","x-tag","./view","./list"],function(e){function s(e){var n=e.view;t(e).data("first")=="true"?(n.parent.clearStack(),n.open(null,"instant")):n.parent.stackSize()||n.open(null,"instant")}var t=e("zepto"),n=e("x-tag"),r=e("./view"),i=e("./list");return n.domready=!1,n.register("x-view",{onCreate:function(){this.view=new r({el:this}),s(this)},getters:{model:function(){return this.view.model}},setters:{titleField:function(e){this.view.options.titleField=e},render:function(e){this.view.options.render=e},getTitle:function(e){this.view.getTitle=function(t){return e.call(this.el,t)}},model:function(e){this.view.model=e},onOpen:function(e){this.view.onOpen=e}},methods:{open:function(e,t){this.view.open(e,t)},close:function(e){this.view.close(e)}}}),n.register("x-listview",{onCreate:function(){this.view=new i({el:this,collection:new i.defaultListType}),s(this)},getters:{collection:function(){return this.view.collection}},setters:{titleField:function(e){this.view.opts.titleField=e},renderRow:function(e){this.view.options.renderRow=e},nextView:function(e){this.view.options.nextView=e},collection:function(e){this.view.collection=e},onOpen:function(e){this.view.onOpen=e}},methods:{add:function(e){this.view.collection.add(e)},open:function(e,t){this.view.open(e,t)},close:function(e){this.view.close(e)}}}),n.domready=!0,n.query(document,n.tagList).forEach(function(e){n.tagCheck(e)&&(n.extendElement(e),document.documentElement.contains(e)&&n.getOptions(e).onInsert.call(e))}),window.onresize=function(){var e="x-view, x-listview";t(e).each(function(){this.view.onResize()})},{BasicView:r,ListView:i}})